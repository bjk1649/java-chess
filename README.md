# java-chess

체스 미션 저장소

# 1단계 - 체스판 초기화

## 기능 요구 사항
```
- 콘솔 UI에서 체스 게임을 할 수 있는 기능을 구현한다.
- 1단계는 체스 게임을 할 수 있는 체스판을 초기화한다.
- 체스판에서 말의 위치 값은 가로 위치는 왼쪽부터 a ~ h이고, 세로는 아래부터 위로 1 ~ 8로 구현한다.
```
## 기능 구현
1. 체스판 생성(초기화)
    - 8x8의 빈 체스판 생성
    - 가로(row) : abcdefgh
    - 세로(column) : 12345678

2. 흑, 백 기물 생성
    - 기물은 다음과 같은 정보를 가짐.
        - 소속 팀(흑, 백)
        - 기물 종류(킹K, 퀸Q, 비숍B, 나이트N, 룩R, 폰P)

3. 각 플레이어 기물의 초기 위치 설정
    - 흑 RNBQKBNR (8 rank)
    - 흑 PPPPPPPP (7 rank)
    - 백 PPPPPPPP (2 rank)
    - 백 RNBQKBNR (1 rank)

## 출력

1. "체스 게임을 시작합니다." 출력
2. "게임 시작은 start, 종료는 end 명령을 입력하세요." 출력
3. start 입력 시, 초기화 된 체스판 UI 출력
    - 검은색 기물은 대문자로 표기
    - 흰색 기물은 소문자로 표기
    - 빈 칸은 .으로 표기

## 입력
1. 게임 진행 입력 
    - start : 게임 시작
    - end : 게임 종료

---

# 2단계 - 체스말 이동
## **기능 요구 사항**
```
- 콘솔 UI에서 체스 게임을 할 수 있는 기능을 구현한다.
- 체스 말의 이동 규칙을 찾아보고 체스 말이 이동할 수 있도록 구현한다.
- `move <source위치> <target위치>` 을 실행해 이동한다.
- 체스판의 위치 값은 가로 위치는 왼쪽부터 a ~ h이고, 세로는 아래부터 위로 1 ~ 8로 구현한다.
```
## 출력
1. 초기 메시지를 출력
```
> 체스 게임을 시작합니다.
> 게임 시작 : start
> 게임 종료 : end
> 게임 이동 : move source위치 target위치 - 예. move b2 b3
```

2. 기물 이동 후, 이동이 반영 된 체스판을 출력한다.



## 입력
1. 이동에 대한 입력 받기 `move <source위치> <target위치> / 예시) move b2 b3`
```
예외
1. move가 아닌 다른 명령어를 입력 받는다.
2. <source위치> <target위치>의 형식이 아닌 입력을 받는다.
3. 위치 값이 체스판의 범위를 벗어났다.
4. source위치에 기물이 존재하지 않는다.
5. target위치에 같은 팀 기물이 존재한다.
6. target위치에 상대 팀 기물이 존재한다. (공격 미 구현)
```

- `source위치` `target위치` 를 file, rank 타입으로 변환

## 기물 이동
1. 현재 위치에 있는 기물의 정보를 파악한다(팀, 기물 종류)
```
예외
1. 현재 차례가 아닌 팀의 기물인 경우 (BLACK/WHITE)
```
2. 팀, 기물 종류에 따른 이동 가능 경로를 확인한다.
    - 폰(흰색) : (0, +1)
    - 폰(검은색) : (0, -1)
    - 킹 : (0, +1), (0, -1), (-1, 0), (+1, 0), (+1, +1), (+1, -1), (-1, +1), (-1, -1)
    - 퀸 : (0, +1), (0, -1), (-1, 0), (+1, 0), (+1, +1), (+1, -1), (-1, +1), (-1, -1)
    - 룩 : (0, +1), (0, -1), (-1, 0), (+1, 0)
    - 비숍 : (+1, +1), (+1, -1), (-1, +1), (-1, -1)
    - 나이트 : (+1, +2), (-1, +2), (+2, +1), (+2, -1), (+1, -2), (-1, -2), (-2, +1), (-2, -1)


3. 기물을 현재 위치에서 목표 위치로 이동시킨다.
```
예외
1. 해당 기물의 이동 규칙으로 target위치에 도달할 수 없다.
2. 이동하는 경로 중간에 다른 기물이 존재한다.
```

---

# 3단계 - 승패 및 점수

## 기능 요구 사항
```
- 체스 게임은 상대편 King이 잡히는 경우 게임에서 진다. (King이 잡혔을 때 게임을 종료해야 한다.)
- 체스 게임은 현재 남아 있는 말에 대한 점수를 구할 수 있어야 한다.
- "status" 명령을 입력하면 각 진영의 점수를 출력하고 어느 진영이 이겼는지 결과를 볼 수 있어야 한다.
```

## 점수 계산 규칙
```
- 체스 프로그램에서 현재까지 남아 있는 말에 따라 점수를 계산할 수 있어야 한다.
- 각 말의 점수는 queen은 9점, rook은 5점, bishop은 3점, knight는 2.5점이다.
- pawn의 기본 점수는 1점이다. 하지만 같은 세로줄에 같은 색의 폰이 있는 경우 1점이 아닌 0.5점을 준다.
- king은 잡히는 경우 경기가 끝나기 때문에 점수가 없다.
- 한 번에 한 쪽의 점수만을 계산해야 한다.
```

## 입력
- 체스 플레이 중 `status` 명령어를 입력받을 수 있다

## 출력
- `status` 명령어를 입력받을 경우, 점수를 계산하고 각 팀의 점수와 승패를 출력한다

## 점수 계산
- `status`를 입력받으면 게임을 종료하고 체스판을 탐색한다
- 남아있는 흰색 기물을 탐색하고, 점수를 합산한다
- 남아있는 검은색 기물을 탐색하고, 점수를 합산한다
- 2개 이상의 `pawn`이 같은 세로줄에 있는지 판단한다

## 게임 종료
- 어느쪽의 `King`이 잡힌 경우, 게임이 종료된다(점수 계산 없음)
- 게임 중 `status` 명령어를 입력받으면 게임이 종료된다(점수 계산 있음)


---

## 우아한테크코스 코드리뷰

- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)
